---
title: YUV的基础知识
date: 2021-05-19 01:19:34
permalink: /pages/eadb01/
categories:
  - 多媒体技术分享
  - 多媒体技术基础
tags:
  - 
---

## 数字图像的本质

一幅图像包括的基本东西就是二进制数据，其容量大小实质即为二进制数据的多少。

一幅1920x1080像素的YUV422的图像，大小是1920X1080X2=4147200（十进制），也就是3.95M大小。

这个大小跟多少个像素点和数据的存储格式有关。

## YUV的含义
YUV，是一种颜色编码格式，Y表示明亮度(Luminance、Luma)，U和V则是色度、浓度(Chrominance、Chroma)。

YUV实际是Y利用一个亮度（Y）、两个色差（U,V）来代替传统RGB三原色来压缩图像，它之于RGB的优势是讲亮度信息与色彩信息分离。

没有色彩信息可以显示完整的图像，YUV很好地解决了彩色电视机与黑白电视的兼容问题。

YUV不像RGB要求三个独立的视频信号同时传输，用YUV方式传送占用极少的频宽。

传统的RGB三原色使用红绿蓝三原色表示一个像素，每种原色占用一个字节（8bit），因此一个像素用RGB表示则需要8*3=24bit。

对于YUV来说，不用的颜色格式，每个像素占用的位数都不一样。

YUV存储格式，主要描述像素的Y、U、V分量排列方式，分为两种格式：紧缩格式和平面格式。

> 紧缩格式(packed formats)：将Y、U、V值储存成Macro Pixels阵列，和RGB的存放方式类似。它将YUV分量存放在同一个数组中，通常是几个相邻的像素组成一个宏像素。

> 平面格式(planar formats)：将Y、U、V的三个分量分别存放在不同的矩阵中。它使用三个数组分开存放YUV三个分量。

## 常见的YUV444 422 420 411

vvid中定义了三种YUV4：2：2格式的颜色，它们都是采用紧缩格式存放的，这三种YUV4：2：2颜色格式的名称分别是YUY2、UYVY、YVYU。

YUY2：Y0 U0 Y1 V0    Y2 U2 Y3 V2 …

UYVY：U0 Y0 V0 Y1    U2 Y2 V2 Y3 …

YVYU：Y0 V0 Y1 U0    Y2 V2 Y3 U2 …

Vvid中定义了两种YUV4：2：0格式的颜色，它们都是采用平面格式存放的，这两种YUV4：2：0颜色格式的名称分别是I420、YV12。

假如有一幅640×480的图片，那么其可被分为以下几种模式组成

1、YUV 4：4：4

用YUV 4：4：4来表示，那么，采样方式就是每个像素采样三个信号分量完整，这样算下来，就有640×480个Y,640×480个U,640×480个V，一幅640×480大小的YUV图片占的总字节数为640×480×3个字节，每像素3个字节，也就是24位。

下面的四个像素为: [Y0 U0 V0] [Y1 U1 V1] [Y2 U2 V2] [Y3 U3 V3]

存放的码流为: Y0 U0 V0 Y1 U1 V1 Y2 U2 V2 Y3 U3 V3

2、YUV 4：2：2

用YUV 4：2：2来表示，那么，采样方式就是每个像素采样Y信号，U,V信号隔一个采样，这样算下来，就有640×480个Y,640×240个U,640×240个V，一幅640×480大小的YUV图片占的总字节数为640×480×2个字节，每像素2个字节，也就是16位。

下面的四个像素为: [Y0 U0 V0] [Y1 U1 V1] [Y2 U2 V2] [Y3 U3 V3]

存放的码流为: Y0 U0 Y1 V1 Y2 U2 Y3 V3

映射出像素点为：[Y0 U0 V1] [Y1 U0 V1] [Y2 U2 V3] [Y3 U2 V3]

3、YUV 4：2：0

用YUV 4：2：0来表示，那么，如果一行是4:2:0的话，下一行就是4:0:2，再下一行是4:2:0...以此类推。这样算下来，就有640×480个Y,640×120个U,640×120个V，一幅640×480大小的YUV图片占的总字节数为640×480×1.5个字节，每像素1.5个字节，也就是12位。

下面八个像素为：[Y0 U0 V0] [Y1 U1 V1] [Y2 U2 V2][Y3 U3 V3][Y5U5 V5] [Y6 U6 V6] [Y7U7 V7] [Y8 U8 V8]

存放的码流为：Y0 U0 Y1 Y2 U2 Y3Y5V5 Y6 Y7 V7 Y8

映射出的像素点为：[Y0 U0 V5] [Y1 U0 V5] [Y2 U2 V7] [Y3 U2 V7][Y5U0 V5] [Y6 U0 V5] [Y7U2 V7] [Y8 U2 V7]

4、YUV 4：1：1

用YUV 4：1：1来表示，那么，采样方式就是每个像素采样Y信号，U,V信号隔两个采样，这样算下来，就有640×480个Y,640×120个U,640×120个V，一幅640×480大小的YUV图片占的总字节数为640×480×1.5个字节，每像素1.5个字节，也就是12位。

下面的四个像素为: [Y0 U0 V0] [Y1 U1 V1] [Y2 U2 V2] [Y3 U3 V3]

存放的码流为: Y0 U0 Y1 Y2 V2 Y3

映射出像素点为：[Y0 U0 V2] [Y1 U0 V2] [Y2 U0 V2] [Y3 U0 V2]


